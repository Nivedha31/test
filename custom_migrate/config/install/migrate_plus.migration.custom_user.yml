id: custom_user
label: Custom user migration
migration_group: custom

source:
  plugin: custom_user
destination:
  plugin: entity:user

process:
  uid: uid
  pass: pass
  mail: mail
  init: mail
  status: status
  roles:
    plugin: default_value
    default_value: 2
  name:
    plugin: dedupe_entity
    source: username
    entity_type: user
    field: name
    postfix: _
  created: created
  changed: '@created'
  access: access
  login: login

migration_dependencies: {}

dependencies:
  enforced:
    module:
      - custom_migrate
